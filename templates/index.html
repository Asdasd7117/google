<!DOCTYPE html>
<html>
<head>
    <title>Chrome Sync</title>
</head>
<body>
    <h2>Chrome Sync Controller</h2>
    <input id="urlInput" placeholder="ضع رابط الموقع هنا" style="width: 300px;">
    <button id="openTabsBtn">فتح 6 تبويبات</button>
    <button id="syncBtn">تشغيل المزامنة</button>

    <script>
        let tabs = [];
        let sync = false;

        document.getElementById("openTabsBtn").addEventListener("click", () => {
            const url = document.getElementById("urlInput").value;
            if(!url) return alert("ضع رابط الموقع أولاً");

            tabs.forEach(t => t.close());
            tabs = [];

            for(let i=0; i<6; i++){
                tabs.push(window.open(url, `tab${i}`));
            }
        });

        document.getElementById("syncBtn").addEventListener("click", () => {
            sync = !sync;
            document.getElementById("syncBtn").innerText = sync ? "إيقاف المزامنة" : "تشغيل المزامنة";
        });

        // مزامنة النصوص والأزرار
        document.addEventListener("click", (e) => {
            if(!sync) return;
            tabs.forEach(t => {
                try {
                    t.document.activeElement.value = document.activeElement.value;
                } catch{}
            });
        });

        document.addEventListener("input", (e) => {
            if(!sync) return;
            tabs.forEach(t => {
                try {
                    t.document.activeElement.value = document.activeElement.value;
                } catch{}
            });
        });
    </script>
</body>
</html>
