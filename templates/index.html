<!DOCTYPE html>
<html>
<head>
    <title>Chrome Sync</title>
    <script>
        function sendAction(type) {
            let value = "";
            if(type === "write") {
                value = document.getElementById("inputText").value;
            }
            fetch("/sync", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ type: type, value: value })
            });
        }
    </script>
</head>
<body>
    <h1>Chrome Sync Controller</h1>
    <form method="post">
        <input type="text" name="url" placeholder="أدخل رابط الموقع" required>
        <button type="submit">فتح التبويبات</button>
    </form>
    <br>
    <input type="text" id="inputText" placeholder="اكتب هنا">
    <button onclick="sendAction('write')">مزامنة الكتابة</button>
    <button onclick="sendAction('click')">مزامنة النقر</button>
    <p>{{ message }}</p>
</body>
</html>
