<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chrome Sync</title>
</head>
<body>
  <h1>Chrome Sync Controller</h1>
  <input type="text" id="url" placeholder="Enter URL">
  <button id="open-tabs">Open 6 Tabs</button>
  <br><br>
  <input type="text" id="sync-text" placeholder="Type to sync">
  <button id="sync-btn">Sync Click</button>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    const openBtn = document.getElementById("open-tabs");
    const urlInput = document.getElementById("url");
    const syncText = document.getElementById("sync-text");
    const syncBtn = document.getElementById("sync-btn");

    openBtn.onclick = async () => {
      const url = urlInput.value;
      if (!url) return alert("Enter URL");
      await fetch("/start-tabs", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ url })
      });
    };

    syncText.oninput = () => {
      socket.emit("sync-input", syncText.value);
    };

    syncBtn.onclick = () => {
      socket.emit("sync-click");
    };
  </script>
</body>
</html>
