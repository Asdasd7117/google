<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Chrome Sync</title>
<script src="/socket.io/socket.io.js"></script>
</head>
<body>
<h2>تشغيل المزامنة</h2>
<input type="text" id="urlInput" placeholder="ادخل الرابط هنا" style="width: 300px;">
<button id="startTabs">تشغيل التبويبات</button>
<button id="startSync">تشغيل المزامنة</button>

<script>
const socket = io();

// عند الضغط على زر تشغيل التبويبات
document.getElementById('startTabs').addEventListener('click', () => {
    const url = document.getElementById('urlInput').value;
    if(url) {
        socket.emit('startSync', url); // يرسل للرابط للسيرفر
    } else {
        alert("ادخل رابط أولاً");
    }
});

// عند الضغط على زر المزامنة
document.getElementById('startSync').addEventListener('click', () => {
    alert("المزامنة الآن تعمل: أي كتابة أو نقر في التبويبة الأولى ستظهر في باقي التبويبات.");
});

// مثال لالتقاط الكتابة في تبويبة الواجهة
document.addEventListener('keydown', (e) => {
    socket.emit('keyEvent', { key: e.key });
});

// مثال للنقر على أي مكان (يمكن تعديل لإحداثيات زر محدد)
document.addEventListener('click', () => {
    socket.emit('clickEvent');
});
</script>
</body>
</html>
