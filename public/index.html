<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>شبكة 9 مربعات عبر البروكسي</title>
  <style>
    :root{--gap:6px}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0b1220;color:#fff}
    .top{display:flex;gap:8px;padding:10px;align-items:center}
    input[type=text]{flex:1;padding:8px;border-radius:6px;border:1px solid #223;background:#071021;color:#fff}
    button{padding:8px 10px;border-radius:6px;border:0;background:#1f6feb;color:#fff;cursor:pointer}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:calc((100vh - 60px)/3);gap:var(--gap);padding:10px;box-sizing:border-box}
    .cell{background:#fff;border-radius:6px;overflow:hidden}
    iframe{width:100%;height:100%;border:0}
    footer{padding:8px;font-size:12px;opacity:0.9}
    @media (max-width:800px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:480px){ .grid{grid-template-columns:1fr;grid-auto-rows:220px} }
  </style>
</head>
<body>
  <div class="top">
    <label>الرابط:</label>
    <input id="url" type="text" value="https://www.ecsc-expat.sy/faq">
    <button id="load">تحميل 9</button>
  </div>

  <div class="grid" id="grid"></div>

  <footer>ملاحظة: هذه الصفحة تستخدم بروكسي لإعادة كتابة HTML وإزالة حماية iframe. بعض المواقع تستخدم طرق حماية متقدمة قد تحتاج إعدادات إضافية.</footer>

  <script>
    const grid = document.getElementById('grid');
    const urlInput = document.getElementById('url');
    const loadBtn = document.getElementById('load');

    function buildGrid(target) {
      grid.innerHTML = '';
      const encoded = encodeURIComponent(target);
      for (let i = 0; i < 9; i++) {
        const div = document.createElement('div');
        div.className = 'cell';
        const iframe = document.createElement('iframe');
        iframe.src = `/proxy?url=${encoded}`;
        iframe.loading = 'lazy';
        div.appendChild(iframe);
        grid.appendChild(div);
      }
    }

    loadBtn.addEventListener('click', () => {
      const t = urlInput.value.trim();
      if (!t) return alert('ضع رابط');
      buildGrid(t);
    });

    // load initial
    buildGrid(urlInput.value.trim());
  </script>
</body>
</html>
